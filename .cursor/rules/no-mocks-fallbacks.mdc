---
description: "Запрет моков и фолбеков: только реальные запросы и явные исключения"
alwaysApply: false
---

# No Mocks / No Fallbacks

## Основное правило

При реализации по спекам:
- НЕ используй моки, стабы, фейки или фиктивные данные
- Все внешние запросы должны быть реальными
- НЕ возвращай `null`, пустые коллекции или «дефолтные» значения как фолбек
- Вместо фолбеков — выбрасывай понятные исключения (fail-fast)

## Тесты и BDD

- В step definitions используй реальные вызовы и реальные данные
- Если доступ к реальному API невозможен — остановись и запроси доступ/контекст, не подменяй моком

## Анти‑паттерны (запрещено)

- `return null` / `return []` при ошибке
- `catch {}` без повторного выброса исключения
- `mock()`, `stub()`, `fake()` вместо реальных вызовов

## Допустимые варианты

- Явное исключение с причиной (`throw new Error("...")`)
- Прозрачная ошибка вместо молчаливого обхода
