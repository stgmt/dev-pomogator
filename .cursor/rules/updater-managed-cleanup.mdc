---
name: updater-managed-cleanup
description: Апдейтер удаляет только управляемые файлы и синхронизирует hooks
alwaysApply: true
---

# Updater Managed Cleanup

Апдейтер имеет право удалять только свои артефакты. Все управляемые файлы должны трекаться в конфиге по `projectPath`.

## Правильно

- Обновлять commands/rules/tools строго по манифесту
- Хранить список управляемых файлов и удалять только устаревшие из него
- Обновлять/удалять hooks только для управляемых команд

## Неправильно

- Удалять пользовательские файлы или правила
- Оставлять устаревшие hooks после обновления

## Чеклист

- [ ] Managed-список обновлён после апдейта
- [ ] Удалены только устаревшие managed-файлы
- [ ] Hooks синхронизированы без дубликатов
