---
description: "Research Workflow - полный цикл ресерча. Триггер: исследуй/найди/погугли/ресерч"
alwaysApply: false
---

# Research Workflow - Полный цикл ресерча

## Когда применять

Пользователь просит "исследуй", "найди", "погугли", "ресерч".

---

## ФАЗА 1: УТОЧНЕНИЕ

**ПЕРЕД началом ресерча** агент ОБЯЗАН уточнить тему.

### Алгоритм

1. Проанализируй контекст (открытые файлы, диалог, технологии)
2. Предложи **5 вариантов направлений**:

| # | Направление | Что будем искать |
|---|-------------|------------------|
| 1 | [Вариант на основе контекста] | [Что найдём] |
| 2 | [Альтернативный вариант] | [Что найдём] |
| 3 | [Ещё вариант] | [Что найдём] |
| 4 | [Вариант] | [Что найдём] |
| 5 | [Другое направление] | [Что найдём] |

3. Дождись выбора пользователя

### Когда можно пропустить

- Пользователь УЖЕ дал конкретный запрос
- Контекст однозначен
- Пользователь сказал "не уточняй"

---

## ФАЗА 2: ИССЛЕДОВАНИЕ

### Шаг 1: Проверь локально

ПЕРЕД веб-поиском проверь существующий код в проекте.

### Шаг 2: MCP инструменты (ПРИОРИТЕТ)

| Инструмент | Назначение |
|------------|------------|
| Context7: get-library-docs | Официальная документация библиотек |
| octocode: githubSearchCode | Поиск кода в реальных проектах |
| octocode: githubSearchRepositories | Поиск репозиториев |

### Шаг 3: Web Search

Правило 3-х попыток с разными формулировками:
1. Общий запрос
2. С site: оператором
3. Точные термины в кавычках

### Шаг 4: Формирование гипотез

По результатам исследования сформулируй гипотезы:

| # | Гипотеза | Статус |
|---|----------|--------|
| 1 | [Утверждение 1] | Не проверено |
| 2 | [Утверждение 2] | Не проверено |

---

## ФАЗА 3: ВЕРИФИКАЦИЯ (автоматически)

После исследования агент АВТОМАТИЧЕСКИ верифицирует гипотезы.

### Алгоритм

Каждую гипотезу проверять через **минимум 3 источника**:

| Приоритет | Источник | Достоверность |
|-----------|----------|---------------|
| 1 | Context7 (официальная документация) | Высокая |
| 2 | GitHub Code Search (реальные проекты) | Высокая |
| 3 | Сторонние интеграторы | Высокая |
| 4 | Web Search (site:) | Средняя |
| 5 | Web Search (общий) | Низкая |

### Формат пруфов

Для каждой гипотезы:
- Источник (URL)
- Запрос (что искали)
- Результат (цитата)
- Вывод (подтверждает/опровергает)

### Таблица верификации

| Гипотеза | Статус | Достоверность | Источники |
|----------|--------|---------------|-----------|
| [1] | ПОДТВЕРЖДЕНО | 100% | Context7, GitHub |
| [2] | ЧАСТИЧНО | 70% | Web Search |
| [3] | ОПРОВЕРГНУТО | - | Context7 |

---

## ФАЗА 4: ОТЧЁТ

Финальный отчёт ресерча:

```markdown
## Отчёт: [Тема]

### Результат
[Краткий вывод]

### Верифицированные гипотезы
| Гипотеза | Статус | Достоверность |
|----------|--------|---------------|
| ... | ... | ... |

### Ключевые пруфы
[Топ-3 пруфа с цитатами]

### Ограничения
[Что НЕ удалось найти]

### Рекомендации
[Что делать дальше]
```

---

## Ловушки

1. **Web Search галлюцинации** - AI описывает несуществующие API
2. **Устаревшая информация** - проверять дату
3. **Путаница продуктов** - Zoho Inventory != Zoho Books

---

## Чек-лист

- [ ] Уточнена тема (5 вариантов)
- [ ] Проверен локальный код
- [ ] Использованы MCP инструменты
- [ ] Сформулированы гипотезы
- [ ] Каждая гипотеза проверена через 3+ источников
- [ ] Указаны источники и цитаты
- [ ] Сформирован итоговый отчёт

---

## Интеграция со спеками

После завершения ресерча, если существует папка спеки:

1. Проверить наличие `.specs/{feature}/RESEARCH.md`
2. Предложить обновить/создать RESEARCH.md с результатами
3. Использовать скрипт: `.\tools\specs-generator\spec-status.ps1`

См. также: `.cursor/rules/specs-management.mdc`
