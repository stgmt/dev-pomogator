---
description: "–ê–Ω–∞–ª–∏–∑ —Å–µ—Å—Å–∏–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ Claude rules –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"
allowed-tools: Read, Write, Glob, Grep
argument-hint: "[mem|nomem|session|global|project]"
---

# Suggest Claude Rules

## Mission

–ü—Ä–æ–≤–µ–¥–∏ —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ Claude rules –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.

---

## Phase -1: Memory Context ‚Äî –ö–û–ú–ë–ò–ù–ò–†–û–í–ê–ù–ù–´–ô –ü–û–ò–°–ö

> **–ü–ï–†–í–û–ï –î–ï–ô–°–¢–í–ò–ï ‚Äî –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π MCP search –ø–æ —Ç–∏–ø–∞–º –∑–∞–ø–∏—Å–µ–π.**
> –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: Full (–ø–∞–º—è—Ç—å + —Å–µ—Å—Å–∏—è) –∏–ª–∏ Session-only.

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞

–ò–º—è –ø—Ä–æ–µ–∫—Ç–∞ = –ø–æ—Å–ª–µ–¥–Ω—è—è —á–∞—Å—Ç—å working directory.
```
D:\repos\lm-saas ‚Üí project = "lm-saas"
/home/user/my-app ‚Üí project = "my-app"
```

### –®–∞–≥ 1.5: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏

**–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–µ—Å—Å–∏—é –∏ –∏–∑–≤–ª–µ–∫–∏ –∫–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã:**

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ß—Ç–æ –∏—Å–∫–∞—Ç—å |
|-----------|------------|
| **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏** | –Ø–∑—ã–∫–∏, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, –ë–î, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã |
| **–î–æ–º–µ–Ω—ã** | –ë–∏–∑–Ω–µ—Å-–æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ |
| **–ü—Ä–æ–±–ª–µ–º—ã** | –û—à–∏–±–∫–∏, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, workarounds |
| **–ü–∞—Ç—Ç–µ—Ä–Ω—ã** | –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–æ–¥—Ö–æ–¥—ã –≤ –∫–æ–¥–µ |

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
```
üìä –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏:
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: [...]
- –î–æ–º–µ–Ω—ã: [...]
- –ü—Ä–æ–±–ª–µ–º—ã: [...]
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã: [...]
```

### –®–∞–≥ 2: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (3 –∑–∞–ø—Ä–æ—Å–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

**–ü–æ—Å—Ç—Ä–æ–∏—Ç—å query –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏ (–®–∞–≥ 1.5) + –±–∞–∑–æ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã:**

```javascript
// –í—Å—Ç–∞–≤–∏—Ç—å —Ç–µ—Ä–º–∏–Ω—ã –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏
discovery_query = "<—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏> <–¥–æ–º–µ–Ω—ã> pattern architecture how-it-works"
decision_query = "<–¥–æ–º–µ–Ω—ã> <–ø–∞—Ç—Ç–µ—Ä–Ω—ã> principle workflow decision"
bugfix_query = "<–ø—Ä–æ–±–ª–µ–º—ã> mistake wrong gotcha avoid"

// 1. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (üîµ discovery)
search({
  query: discovery_query,
  obs_type: "discovery",
  project: "<–∏–º—è –ø—Ä–æ–µ–∫—Ç–∞>",
  limit: 15
})

// 2. –†–µ—à–µ–Ω–∏—è –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã (‚öñÔ∏è decision)
search({
  query: decision_query,
  obs_type: "decision",
  project: "<–∏–º—è –ø—Ä–æ–µ–∫—Ç–∞>",
  limit: 10
})

// 3. Anti-patterns –∏–∑ –±–∞–≥—Ñ–∏–∫—Å–æ–≤ (üî¥ bugfix)
search({
  query: bugfix_query,
  obs_type: "bugfix",
  project: "<–∏–º—è –ø—Ä–æ–µ–∫—Ç–∞>",
  limit: 10
})
```

### –®–∞–≥ 2.5: Fallback (–µ—Å–ª–∏ 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

**–ï—Å–ª–∏ project filter –¥–∞–ª 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –í–°–ï–ú 3 –∑–∞–ø—Ä–æ—Å–∞–º:**

```javascript
// –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –±–µ–∑ project ‚Äî cross-project search
search({ query: discovery_query, obs_type: "discovery", limit: 15 })
search({ query: decision_query, obs_type: "decision", limit: 10 })
search({ query: bugfix_query, obs_type: "bugfix", limit: 10 })
```

**–ü–æ–º–µ—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:** `‚ö†Ô∏è Cross-project` –≤ –∫–æ–ª–æ–Ω–∫–µ "–ò—Å—Ç–æ—á–Ω–∏–∫".

> **–í–ê–ñ–ù–û:** –ü–∞—Ä–∞–º–µ—Ç—Ä `obs_type`, –ù–ï `type`!

### –®–∞–≥ 3: –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã

**–ü–ï–†–í–û–ô —Å—Ç—Ä–æ–∫–æ–π –æ—Ç–≤–µ—Ç–∞ –≤—ã–≤–µ–¥–∏:**

| –†–µ–∑—É–ª—å—Ç–∞—Ç | –†–µ–∂–∏–º | –ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å |
|-----------|-------|--------------|
| ‚úÖ –ù–∞–π–¥–µ–Ω–æ N –∑–∞–ø–∏—Å–µ–π | **Full** | `üîç –†–µ–∂–∏–º: Full (–ø–∞–º—è—Ç—å + —Å–µ—Å—Å–∏—è) ‚Äî N –∑–∞–ø–∏—Å–µ–π` |
| ‚ö†Ô∏è –í—Å–µ 3 –∑–∞–ø—Ä–æ—Å–∞ –ø—É—Å—Ç—ã | **Session-only** | `üîç –†–µ–∂–∏–º: Session-only (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏)` |
| ‚ùå MCP –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | **Session-only** | `üîç –†–µ–∂–∏–º: Session-only (MCP –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)` |

### –®–∞–≥ 4-5: Scoring –∏ Timeline

–°–º. –æ—Å–Ω–æ–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ scoring (relevance 40%, recency 30%, impact 20%, type 10%) –∏ timeline enrichment.

---

## Phase 0: –ò–∑—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã rules ‚Äî –î–ï–†–ï–í–û –§–ê–ô–õ–û–í

**–í—ã–ø–æ–ª–Ω–∏—Ç—å:** `Glob(".claude/rules/**/*.md")`

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ ‚Äî –¥–µ—Ä–µ–≤–æ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤:**

```
## üìÇ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ rules (N —Ñ–∞–π–ª–æ–≤)

.claude/rules/
‚îú‚îÄ‚îÄ antipatterns/       # –ß–¢–û –ù–ï –î–ï–õ–ê–¢–¨
‚îú‚îÄ‚îÄ patterns/           # –ö–ê–ö –î–ï–õ–ê–¢–¨ –ü–†–ê–í–ò–õ–¨–ù–û
‚îú‚îÄ‚îÄ checklists/         # –°–ü–ò–°–ö–ò –ü–†–û–í–ï–†–û–ö
‚îú‚îÄ‚îÄ <category>/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ *.index.md
```

---

## Phase 0.5: Domain Detection ‚Äî CONTEXT MAP

–û–ø—Ä–µ–¥–µ–ª–∏ –¥–æ–º–µ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞ –î–û –æ—Ü–µ–Ω–∫–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ DOMAIN_MATCH –∏ REUSABILITY).

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ–º–µ–Ω–æ–≤:**
1. –ò–º–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö rules (–∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ `.claude/rules/`).
2. –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏ –∏–∑ Phase -1 (—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –¥–æ–º–µ–Ω—ã, –ø–∞—Ç—Ç–µ—Ä–Ω—ã).
3. –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä `*.csproj`, `docker-compose.yml`, `package.json`).

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
```
Project domains: [zoho, ef-core, postgres, docker, csharp]
```

**–ü—Ä–∞–≤–∏–ª–æ:** domain-specific = OK, –µ—Å–ª–∏ –¥–æ–º–µ–Ω –µ—Å—Ç—å –≤ `Project domains`.

---

## Phase 1: Session Analysis

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π **–∫–∞–∂–¥—ã–π turn** —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã:

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- üü¢ **–£—Å–ø–µ—Ö–∏**: –ö–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–∏–≤–µ–ª–∏ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ä–µ—à–µ–Ω–∏—é?
- üî¥ **–û—à–∏–±–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: –ì–¥–µ –ø–æ–¥—Ö–æ–¥ –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è? –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?
- üìÅ **–§–∞–π–ª—ã**: –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –æ–±—Å—É–∂–¥–∞–ª–∏—Å—å? –ö–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –Ω–∏—Ö?
- üîß **–†–µ—à–µ–Ω–∏—è**: –ö–∞–∫–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –±—ã–ª–∏ –ø—Ä–∏–Ω—è—Ç—ã?
- üìö **Domain knowledge**: –ö–∞–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞–Ω–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ —Ä–∞—Å–∫—Ä—ã—Ç—ã?
- üîÅ **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏**: –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–æ–º–∞–Ω–¥–∞/–∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏—Å–ø—Ä–∞–≤–ª—è–ª–∏—Å—å ‚â•3 —Ä–∞–∑
- ‚è±Ô∏è **–ü–æ—Ç–µ—Ä—è –≤—Ä–µ–º–µ–Ω–∏**: –æ–¥–Ω–∞ –æ—à–∏–±–∫–∞ –∑–∞–Ω—è–ª–∞ >5 –º–∏–Ω—É—Ç –∏–ª–∏ 4+ turn
- üß∞ **CLI-–∫–æ–º–∞–Ω–¥—ã**: –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ `curl`, `docker`, `kubectl`, `psql`

---

## Phase 1.5: Abstraction Layer ‚Äî –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –ê–ù–¢–ò–ü–ê–¢–¢–ï–†–ù–û–í

> **–ö–†–ò–¢–ò–ß–ù–û**: –î–ª—è –∫–∞–∂–¥–æ–π "—Å—ã—Ä–æ–π –Ω–∞—Ö–æ–¥–∫–∏" –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
> –î–∞–∂–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Ñ–∏–∫—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω!

### –í–æ–ø—Ä–æ—Å—ã –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è –∫–∞–∂–¥–æ–π –Ω–∞—Ö–æ–¥–∫–∏ –∏–∑ Phase 1:

| # | –í–æ–ø—Ä–æ—Å | –ó–∞—á–µ–º |
|---|--------|-------|
| 1 | –ß—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å/–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ? | –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É |
| 2 | –ö–ê–ö —Ä–µ—à–∞–ª–∏? | –í—ã—è–≤–∏—Ç—å –ø–æ–¥—Ö–æ–¥ |
| 3 | –≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –ø–æ–¥—Ö–æ–¥? | –û—Ü–µ–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ—à–µ–Ω–∏—è |
| 4 | –ö–∞–∫ –ù–ê–î–û –±—ã–ª–æ? | –ù–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω |
| 5 | –ß—Ç–æ –∏–∑–≤–ª–µ—á—å –Ω–∞ –±—É–¥—É—â–µ–µ? | –°—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å rule/antipattern |

### –°–ø–µ—Ü-—Ç—Ä–∏–≥–≥–µ—Ä: –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ time-waste

–ï—Å–ª–∏ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–æ–º–∞–Ω–¥–∞/–∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏—Å–ø—Ä–∞–≤–ª—è–ª–∏—Å—å ‚â•3 —Ä–∞–∑ –∏–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞–Ω—è–ª–∞ >5 –º–∏–Ω—É—Ç:
- –í—Å–µ–≥–¥–∞ –∏–∑–≤–ª–µ–∫–∞–π ‚ö†Ô∏è gotcha `command-retry-gotcha`
- –ï—Å–ª–∏ —ç—Ç–æ `curl` ‚Äî –¥–æ–ø–æ–ª–Ω–∏ üìã checklist `curl-args-checklist`

### –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞

```
üìç –°—ã—Ä–∞—è –Ω–∞—Ö–æ–¥–∫–∞: "<–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ —Å–µ—Å—Å–∏–∏>"
   –ò—Å—Ç–æ—á–Ω–∏–∫: turn #N, "<—Ü–∏—Ç–∞—Ç–∞>"

üîÑ –ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
‚îú‚îÄ‚îÄ –ß—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å? ‚Üí <–ø—Ä–æ–±–ª–µ–º–∞>
‚îú‚îÄ‚îÄ –ö–∞–∫ —Ä–µ—à–∞–ª–∏? ‚Üí <–ø–æ–¥—Ö–æ–¥>
‚îú‚îÄ‚îÄ –≠—Ç–æ —Ö–æ—Ä–æ—à–æ? ‚Üí ‚úÖ –î–ê / ‚ùå –ù–ï–¢ (–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω)
‚îú‚îÄ‚îÄ –ö–∞–∫ –Ω–∞–¥–æ? ‚Üí <–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥>
‚îî‚îÄ‚îÄ –ò–∑–≤–ª–µ—á—å: <—Ç–∏–ø> "<–Ω–∞–∑–≤–∞–Ω–∏–µ>"

üì§ –ö–∞–Ω–¥–∏–¥–∞—Ç:
‚îú‚îÄ‚îÄ –¢–∏–ø: üî¥ antipattern | üü¢ pattern | üìã checklist | ‚ö†Ô∏è gotcha
‚îú‚îÄ‚îÄ –ù–∞–∑–≤–∞–Ω–∏–µ: <kebab-case>
‚îú‚îÄ‚îÄ –ü—É—Ç—å: .claude/rules/<–∫–∞—Ç–µ–≥–æ—Ä–∏—è>/
‚îî‚îÄ‚îÄ –°—É—Ç—å: <1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ>
```

### –ü—Ä–∏–º–µ—Ä —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏

```
üìç –°—ã—Ä–∞—è –Ω–∞—Ö–æ–¥–∫–∞: "–∏—Å–ø—Ä–∞–≤–∏–ª model_ratio –Ω–∞–ø—Ä—è–º—É—é –≤ prod MySQL"
   –ò—Å—Ç–æ—á–Ω–∏–∫: turn #12, "UPDATE options SET value = '{"gpt-5-image": 0.005}'"

üîÑ –ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
‚îú‚îÄ‚îÄ –ß—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å? ‚Üí Pricing –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –±—ã–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
‚îú‚îÄ‚îÄ –ö–∞–∫ —Ä–µ—à–∞–ª–∏? ‚Üí –ü—Ä—è–º–æ–π UPDATE –≤ production –±–∞–∑–µ
‚îú‚îÄ‚îÄ –≠—Ç–æ —Ö–æ—Ä–æ—à–æ? ‚Üí ‚ùå –ù–ï–¢ ‚Äî –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω!
‚îú‚îÄ‚îÄ –ö–∞–∫ –Ω–∞–¥–æ? ‚Üí –ß–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏/API/–∫–æ–Ω—Ñ–∏–≥ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
‚îî‚îÄ‚îÄ –ò–∑–≤–ª–µ—á—å: antipattern "no-direct-prod-db-edits"

üì§ –ö–∞–Ω–¥–∏–¥–∞—Ç—ã:

1. üî¥ no-direct-prod-db-edits (antipatterns/)
   –°—É—Ç—å: "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π production –±–∞–∑—É –Ω–∞–ø—Ä—è–º—É—é"

2. üìã new-model-pricing-checklist (checklists/)
   –°—É—Ç—å: "–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏: –ø—Ä–æ–≤–µ—Ä—å ratio, tier, limits"
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–∞–ø–∫–∞ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-----------|-------|-------------------|
| üî¥ **Antipattern** | `antipatterns/` | –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å (–ø–ª–æ—Ö–æ–π –ø–æ–¥—Ö–æ–¥ –∏–∑ —Å–µ—Å—Å–∏–∏) |
| üü¢ **Pattern** | `patterns/` | –ö–∞–∫ –¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| üìã **Checklist** | `checklists/` | –°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á |
| ‚ö†Ô∏è **Gotcha** | `gotchas/` | –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏, –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –Ω—é–∞–Ω—Å—ã |

---

## Phase 2: Quality Filter ‚Äî CATEGORY-BASED

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞:**
1. –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø (üî¥ antipattern | üü¢ pattern | üìã checklist | ‚ö†Ô∏è gotcha).
2. –ò—Å–ø–æ–ª—å–∑—É–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.
3. –ü—Ä–æ—Å—É–º–º–∏—Ä—É–π –±–∞–ª–ª—ã (max 100).

**–û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤:**
- –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: +–ø–æ–ª–Ω—ã–π –≤–µ—Å
- –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: +–ø–æ–ª–æ–≤–∏–Ω–∞ –≤–µ—Å–∞ (–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–Ω–∏–∑)
- –ù–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è: +0

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Antipattern

**–ì–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å:** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –æ—à–∏–±–∫–∏?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –í–µ—Å | –ü–æ–¥—Å–∫–∞–∑–∫–∞ |
|----------|-----|----------|
| PREVENTS | 40 | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É |
| SEVERITY | 30 | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å: data loss > time waste > inconvenience |
| ACTIONABLE | 20 | –ü–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å –∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å –≤–º–µ—Å—Ç–æ |
| UNIQUE | 10 | –ù–µ –¥—É–±–ª–∏—Ä—É–µ—Ç —Ç–æ—Ç –∂–µ –∞—Å–ø–µ–∫—Ç |

**SEVERITY —à–∫–∞–ª–∞:** critical = 100%, medium = 50%, low = 0%.

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Gotcha

**–ì–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å:** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–∏ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ–µ –∑–Ω–∞–Ω–∏–µ –æ –ø—Ä–æ–µ–∫—Ç–µ?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –í–µ—Å | –ü–æ–¥—Å–∫–∞–∑–∫–∞ |
|----------|-----|----------|
| PREVENTS | 35 | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ confusion/–æ—à–∏–±–∫–∏ |
| DOMAIN_MATCH | 35 | –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å `Project domains` –∏–∑ Phase 0.5 |
| SELF_CONTAINED | 20 | –ü–æ–Ω—è—Ç–µ–Ω –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏ |
| UNIQUE | 10 | –ù–µ –¥—É–±–ª–∏—Ä—É–µ—Ç —Ç–æ—Ç –∂–µ –∞—Å–ø–µ–∫—Ç |

**PREVENTS –ø–æ–¥—Å–∫–∞–∑–∫–∞:** –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞–Ω—è–ª–∞ >5 –º–∏–Ω—É—Ç ‚Äî —Å—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—ã–º.
**DOMAIN_MATCH —à–∫–∞–ª–∞:** –ø—Ä—è–º–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ = 100%, —Å–º–µ–∂–Ω—ã–π –¥–æ–º–µ–Ω = 50%, –Ω–µ—Ç = 0%.

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Checklist

**–ì–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å:** —É–ø—Ä–æ—â–∞–µ—Ç –ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –∑–∞–¥–∞—á—É?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –í–µ—Å | –ü–æ–¥—Å–∫–∞–∑–∫–∞ |
|----------|-----|----------|
| FREQUENCY | 40 | –ö–∞–∫ —á–∞—Å—Ç–æ –∑–∞–¥–∞—á–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ |
| COMPLETENESS | 30 | –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –≤–∞–∂–Ω—ã–µ —à–∞–≥–∏ |
| ACTIONABLE | 20 | –ü—É–Ω–∫—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ, –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ |
| UNIQUE | 10 | –ù–µ –¥—É–±–ª–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π checklist |

**FREQUENCY —à–∫–∞–ª–∞:** 3+ = 100%, 1-2 = 50%, 0 = 0%.
**–ü–æ–¥—Å–∫–∞–∑–∫–∞:** 3+ –ø–æ–ø—ã—Ç–∫–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –≤ —Å–µ—Å—Å–∏–∏ = 3+.

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Pattern

**–ì–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å:** —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –í–µ—Å | –ü–æ–¥—Å–∫–∞–∑–∫–∞ |
|----------|-----|----------|
| ABSTRACTION | 35 | –ü—Ä–∏–Ω—Ü–∏–ø –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–º—ë–Ω |
| REUSABILITY | 30 | –ü—Ä–∏–º–µ–Ω–∏–º –∫ –ø–æ—Ö–æ–∂–∏–º —Å–∏—Ç—É–∞—Ü–∏—è–º –≤ –¥–æ–º–µ–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ |
| CLARITY | 25 | –ü–æ–Ω—è—Ç–Ω–æ –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å |
| UNIQUE | 10 | –ù–µ –¥—É–±–ª–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π pattern |

**Confidence = —Å—É–º–º–∞ –±–∞–ª–ª–æ–≤ (max 100)**

### –£—Ä–æ–≤–Ω–∏ confidence

| –£—Ä–æ–≤–µ–Ω—å | –ë–∞–ª–ª—ã | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|-------|----------|
| üü¢ HIGH | 80-100 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å |
| üü° MEDIUM | 60-79 | –ü–æ–∫–∞–∑–∞—Ç—å –¥–ª—è –≤—ã–±–æ—Ä–∞ |
| üü† LOW | 40-59 | –ü–æ–∫–∞–∑–∞—Ç—å —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º |
| üî¥ REJECT | <40 | –û—Ç–∫–ª–æ–Ω–∏—Ç—å |

### –§–æ—Ä–º–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –ø—Ä—É—Ñ–∞–º–∏)

```
<name> (Score: <N>/100, <LEVEL>)

üìã –ß–¢–û –≠–¢–û:
<–æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ —ç—Ç–æ –∑–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç>

üìç –û–¢–ö–£–î–ê –í–ó–Ø–õ–û–°–¨:
<–∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ —Å–µ—Å—Å–∏–∏ ‚Äî —á—Ç–æ –¥–µ–ª–∞–ª–∏, –∫–∞–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞>
–ò—Å—Ç–æ—á–Ω–∏–∫: turn #N, "<—Ü–∏—Ç–∞—Ç–∞>"

üîß –ß–¢–û –î–ï–õ–ê–õ–ò:
<–∫–æ–¥ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ —Å–µ—Å—Å–∏–∏>

‚úÖ/‚ùå –û–¶–ï–ù–ö–ê (–∫—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–∏–ø–∞):
‚îú‚îÄ‚îÄ <CRITERION_1>: <–æ—Ü–µ–Ω–∫–∞> (+<–±–∞–ª–ª—ã>)
‚îÇ   ‚îî‚îÄ‚îÄ <–ø–æ—è—Å–Ω–µ–Ω–∏–µ —Å –ø—Ä—É—Ñ–æ–º>
‚îú‚îÄ‚îÄ <CRITERION_2>: <–æ—Ü–µ–Ω–∫–∞> (+<–±–∞–ª–ª—ã>)
‚îÇ   ‚îî‚îÄ‚îÄ <–ø–æ—è—Å–Ω–µ–Ω–∏–µ>
‚îú‚îÄ‚îÄ <CRITERION_3>: <–æ—Ü–µ–Ω–∫–∞> (+<–±–∞–ª–ª—ã>)
‚îú‚îÄ‚îÄ <CRITERION_4>: <–æ—Ü–µ–Ω–∫–∞> (+<–±–∞–ª–ª—ã>)
‚îî‚îÄ‚îÄ CONFIDENCE: <N>% <LEVEL>

üí° –ï–°–õ–ò –ë–´ –ë–´–õ–û –ü–û–õ–ï–ó–ù–û:
<—á—Ç–æ –º–æ–≥–ª–æ –±—ã —Å—Ç–∞—Ç—å rule/antipattern –µ—Å–ª–∏ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å>
```

---

## Phase 2.5: Duplicate Check ‚Äî SMART MERGE

**–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:** –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ = —Ç–æ—Ç –∂–µ –∞—Å–ø–µ–∫—Ç (–æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞–Ω–∏–µ), –∞ –ù–ï –ø—Ä–æ—Å—Ç–æ –æ–±—â–∏–π –¥–æ–º–µ–Ω.

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Å confidence ‚â•40%:**

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏:** –°—Ä–∞–≤–Ω–∏—Ç—å kebab-case –Ω–∞–∑–≤–∞–Ω–∏–µ —Å —Ñ–∞–π–ª–∞–º–∏ –∏–∑ Phase 0
2. **–ü–æ–∏—Å–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É:** Grep –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö rules
3. **–ê–Ω–∞–ª–∏–∑ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:** Read –ø–æ—Ö–æ–∂–∏–π —Ñ–∞–π–ª –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞—Å–ø–µ–∫—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

### –°—Ç–∞—Ç—É—Å—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è

| –°—Ç–∞—Ç—É—Å | –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|------------|----------|
| üÜï NEW | <30% | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª |
| üîÄ MERGE | 30-80% | –î–æ–ø–æ–ª–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π (—Å–º–µ–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç) |
| ‚ö†Ô∏è DUP | >80% | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å (—Ç–æ—Ç –∂–µ –∞—Å–ø–µ–∫—Ç) |

### Smart Merge —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

| –°–∏—Ç—É–∞—Ü–∏—è | –°—Ç—Ä–∞—Ç–µ–≥–∏—è |
|----------|-----------|
| –ù–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä | –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ü–∏—é "–ü—Ä–∞–≤–∏–ª—å–Ω–æ/–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ" |
| –ù–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç –ø—É–Ω–∫—Ç | –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ü–∏—é "–ß–µ–∫–ª–∏—Å—Ç" |
| –ù–æ–≤—ã–π –∞—Å–ø–µ–∫—Ç | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å–µ–∫—Ü–∏—é "## <Aspect>" |
| –£—Ç–æ—á–Ω–µ–Ω–∏–µ | –î–æ–ø–æ–ª–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ |

### –ü—Ä–∏–º–µ—Ä—ã –∞—Å–ø–µ–∫—Ç–æ–≤ (–ù–ï –¥—É–±–ª–∏–∫–∞—Ç—ã)

| –°–∏—Ç—É–∞—Ü–∏—è | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ? |
|----------|---------------|
| `zoho-test-snapshot-usage` vs `zoho-ef-core-table-naming` | –ù–ï–¢ (—Ä–∞–∑–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã) |
| `postgres-case-sensitivity` vs `postgres-naming-gotcha` | –í–æ–∑–º–æ–∂–Ω–æ MERGE (–æ–¥–∏–Ω –∞—Å–ø–µ–∫—Ç) |
| `no-direct-prod-edits` vs `no-manual-sql-prod` | –î–ê (—Ç–æ—Ç –∂–µ –∞—Å–ø–µ–∫—Ç) |

---

## Phase 3: Index Output ‚Äî STREAMLINED

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**

```
## üéØ –ù–∞–π–¥–µ–Ω–æ: N rules + M antipatterns

### üü¢ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ (HIGH confidence)

| # | –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∏–ø | Score | –ò—Å—Ç–æ—á–Ω–∏–∫ | –°—Ç–∞—Ç—É—Å |
|---|----------|-----|-------|----------|--------|
| 1 | <name>   | üî¥ antipattern | 95% | üìç turn #12 | üÜï NEW |
| 2 | <name>   | üü¢ pattern | 92% | üß† #163 | üîÄ MERGE |

### üü° –î–ª—è –≤—ã–±–æ—Ä–∞ (MEDIUM confidence)

| # | –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∏–ø | Score | –ò—Å—Ç–æ—á–Ω–∏–∫ | –°—Ç–∞—Ç—É—Å |
|---|----------|-----|-------|----------|--------|
| 3 | <name>   | üìã checklist | 78% | üìç turn #5 | üÜï NEW |

### üî¥ –û—Ç–∫–ª–æ–Ω–µ–Ω—ã (LOW/REJECT)

| - | –ù–∞–∑–≤–∞–Ω–∏–µ | Score | –ü—Ä–∏—á–∏–Ω–∞ |
|---|----------|-------|---------|
| - | <name>   | 35%   | PREVENTS: –Ω–µ—Ç |

### –î–µ—Ç–∞–ª–∏

**1. no-direct-prod-db-edits** (üî¥ antipattern, 95%)
- **–ß—Ç–æ:** –ó–∞–ø—Ä–µ—Ç –ø—Ä—è–º–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è production –±–∞–∑—ã
- **–û—Ç–∫—É–¥–∞:** turn #12 ‚Äî –∏—Å–ø—Ä–∞–≤–ª—è–ª–∏ pricing —á–µ—Ä–µ–∑ UPDATE –≤ prod MySQL
- **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ—Ç –æ—Ç–∫–∞—Ç–∞, —Ä–∏—Å–∫ –æ—à–∏–±–∫–∏
- **–ü—É—Ç—å:** `.claude/rules/antipatterns/no-direct-prod-db.md`

---
**–í—ã–±–æ—Ä:** `1,2,3,...` | `all` | `recommended` | `0` (–æ—Ç–º–µ–Ω–∞)
```

**‚è∏Ô∏è –°–¢–û–ü: –û–∂–∏–¥–∞–π –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.**

---

## Phase 4: Rule Proposals ‚Äî SMART GENERATION

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞/–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–∞:**

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Å–µ—Å—Å–∏–∏, –ù–ï generic
2. **–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ
3. **–°–≤—è–∑—ã–≤–∞–Ω–∏–µ** ‚Äî —Å—Å—ã–ª–∫–∏ –Ω–∞ timeline (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏)

### –®–∞–±–ª–æ–Ω –¥–ª—è Antipattern

```markdown
# <–ù–∞–∑–≤–∞–Ω–∏–µ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–∞>

**–ù–ï –î–ï–õ–ê–ô –¢–ê–ö** ‚Äî <–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—á–µ–º—É –ø–ª–æ—Ö–æ>

## –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω

<–æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ —ç—Ç–æ –∏ –ø–æ—á–µ–º—É –ø–ª–æ—Ö–æ>

## –ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏

```<language>
// –ö–ê–ö –î–ï–õ–ê–õ–ò (–ø–ª–æ—Ö–æ)
<–∫–æ–¥ –∏–∑ —Å–µ—Å—Å–∏–∏>
```

## –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

- <–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ 1>
- <–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ 2>

## –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

```<language>
// –ö–ê–ö –ù–ê–î–û
<–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥>
```

## –ß–µ–∫–ª–∏—Å—Ç

- [ ] –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –Ω–µ –¥–µ–ª–∞–µ—à—å <–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω>
- [ ] –ò—Å–ø–æ–ª—å–∑—É–π <–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥> –≤–º–µ—Å—Ç–æ
```

### –®–∞–±–ª–æ–Ω –¥–ª—è Pattern/Checklist

```markdown
# <–ù–∞–∑–≤–∞–Ω–∏–µ>

<–æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞>

## –ü—Ä–∞–≤–∏–ª—å–Ω–æ

```<language>
// –ø—Ä–∏–º–µ—Ä –∏–∑ —Å–µ—Å—Å–∏–∏
```

## –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

```<language>
// –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ —Å–µ—Å—Å–∏–∏
```

## –ß–µ–∫–ª–∏—Å—Ç

- [ ] <–ø—É–Ω–∫—Ç>
```

---

## Phase 5: File Creation

**–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**

| –¢–∏–ø | –ü—É—Ç—å |
|-----|------|
| üî¥ antipattern | `.claude/rules/antipatterns/<name>.md` |
| üü¢ pattern | `.claude/rules/patterns/<name>.md` |
| üìã checklist | `.claude/rules/checklists/<name>.md` |
| ‚ö†Ô∏è gotcha | `.claude/rules/gotchas/<name>.md` |
| üìÅ project-specific | `.claude/rules/<domain>/<name>.md` |

---

## –°–µ–∫—Ü–∏—è: Antipatterns Detection ‚Äî –û–¢–î–ï–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

> –≠—Ç–∞ —Å–µ–∫—Ü–∏—è –ª–µ–≥–∫–æ –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–æ–≤—ã–º–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.

### –¢—Ä–∏–≥–≥–µ—Ä—ã –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

| –¢—Ä–∏–≥–≥–µ—Ä –≤ —Å–µ—Å—Å–∏–∏ | –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω | –ö–∞—Ç–µ–≥–æ—Ä–∏—è |
|------------------|-------------|-----------|
| "–Ω–∞–ø—Ä—è–º—É—é –≤ prod" | no-direct-prod-edits | antipatterns/ |
| "UPDATE ... WHERE" –Ω–∞ –ø—Ä–æ–¥–µ | no-manual-sql-prod | antipatterns/ |
| "–∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∏–ª" | no-hardcoded-values | antipatterns/ |
| "–∫–æ—Å—Ç—ã–ª—å", "workaround" | document-tech-debt | gotchas/ |
| "–ø–æ—Ç–æ–º –∏—Å–ø—Ä–∞–≤–ª—é" | no-deferred-fixes | antipatterns/ |
| "—Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –∫–æ–¥" | no-copy-paste | antipatterns/ |
| "–æ—Ç–∫–ª—é—á–∏–ª —Ç–µ—Å—Ç—ã" | no-disabled-tests | antipatterns/ |
| "–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É" | no-silent-catch | antipatterns/ |
| "try {} catch {}" –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ | no-empty-catch | antipatterns/ |
| "–±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏" | always-use-migrations | patterns/ |
| "—Ä—É–∫–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∏–ª" | automate-checks | checklists/ |
| "–ø–æ–≤—Ç–æ—Ä—è–ª –∫–æ–º–∞–Ω–¥—É 3+ —Ä–∞–∑", "–∏—Å–ø—Ä–∞–≤–∏–ª –∫–æ–º–∞–Ω–¥—É —Å N-–π –ø–æ–ø—ã—Ç–∫–∏" | command-retry-gotcha | gotchas/ |
| "curl ... invalid argument", "curl: (3) URL malformed" | curl-args-checklist | checklists/ |

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç—Ä–∏–≥–≥–µ—Ä:

```markdown
| "<—Ñ—Ä–∞–∑–∞ –∏–∑ —Å–µ—Å—Å–∏–∏>" | <kebab-name> | <–∫–∞—Ç–µ–≥–æ—Ä–∏—è>/ |
```

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–ù–ï —Å–æ–∑–¥–∞–≤–∞–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —è–≤–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ù–ï –ø—Ä–µ–¥–ª–∞–≥–∞–π —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ** ‚Äî Quality Filter –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
3. **–í–°–ï–ì–î–ê –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–π** ‚Äî Phase 1.5 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
4. **–ò–©–ò –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã** ‚Äî –¥–∞–∂–µ –≤ "—É—Å–ø–µ—à–Ω—ã—Ö" —Ñ–∏–∫—Å–∞—Ö
5. **–ü–†–£–§–´ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** ‚Äî —Ü–∏—Ç–∞—Ç—ã –∏ –Ω–æ–º–µ—Ä–∞ turn
6. **< 500 —Å—Ç—Ä–æ–∫** ‚Äî –±–æ–ª—å—à–∏–µ —Ä–∞–∑–±–∏–≤–∞–π –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ
7. **Self-contained** ‚Äî –ø–æ–Ω—è—Ç–Ω–æ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏
8. **–ë–ï–ó frontmatter** ‚Äî Claude Code rules —ç—Ç–æ —á–∏—Å—Ç—ã–π Markdown

---

## Execution Order (–ö–†–ò–¢–ò–ß–ù–û)

```
1. [–ê–ù–ê–õ–ò–ó] –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏ (–®–∞–≥ 1.5)
2. [TOOL] MCP search √ó3 (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π query –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
3. [TOOL] Fallback –±–µ–∑ project (–µ—Å–ª–∏ 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
4. [TEXT] "üîç –†–µ–∂–∏–º: ..." + –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏
5. [TOOL] Glob rules
6. [TEXT] Phase 0: –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤
7. [TEXT] Phase 1: –∞–Ω–∞–ª–∏–∑ —Å–µ—Å—Å–∏–∏ (—Å—ã—Ä—ã–µ –Ω–∞—Ö–æ–¥–∫–∏)
8. [TEXT] Phase 1.5: Abstraction (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ antipatterns!)
9. [TEXT] Phase 2: Quality Filter (category scoring, confidence, –ü–†–£–§–´)
10. [TEXT] Phase 2.5: Smart Merge
11. [TEXT] Phase 3: Streamlined —Ç–∞–±–ª–∏—Ü—ã (rules + antipatterns)
12. [STOP] –û–∂–∏–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞
13. [TEXT] Phase 4: Smart Generation
14. [STOP] –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
15. [TEXT] Phase 5: —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
```

**‚ùå –ó–ê–ü–†–ï–©–ï–ù–û:**
- –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å Phase 1.5 (Abstraction)
- –í—ã–≤–æ–¥–∏—Ç—å –±–µ–∑ –ø—Ä—É—Ñ–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –û—Ç–∫–ª–æ–Ω—è—Ç—å –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è "—á—Ç–æ –º–æ–≥–ª–æ –±—ã –±—ã—Ç—å rule"
- Generic –ø—Ä–∏–º–µ—Ä—ã –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö

---

## –ù–∞—á–Ω–∏

1. –ò–∑–≤–ª–µ—á—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏ ‚Üí –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ query
2. MCP Search √ó3 (—Å project) ‚Üí –µ—Å–ª–∏ 0, fallback –±–µ–∑ project ‚Üí —Ä–µ–∂–∏–º
3. Phase 0 (–¥–µ—Ä–µ–≤–æ) ‚Üí Phase 0.5 (domains) ‚Üí Phase 1 (—Å—ã—Ä—ã–µ –Ω–∞—Ö–æ–¥–∫–∏) ‚Üí **Phase 1.5 (ABSTRACTION!)** ‚Üí Phase 2 (category scoring + –ø—Ä—É—Ñ—ã) ‚Üí Phase 2.5 (merge) ‚Üí Phase 3 (—Ç–∞–±–ª–∏—Ü—ã)
4. **–°–¢–û–ü** ‚Äî –∂–¥–∞—Ç—å –≤—ã–±–æ—Ä
5. Phase 4 (generation) ‚Üí **–°–¢–û–ü** ‚Äî –∂–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
6. Phase 5 (—Å–æ–∑–¥–∞–Ω–∏–µ)
